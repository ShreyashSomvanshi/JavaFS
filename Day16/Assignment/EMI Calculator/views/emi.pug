doctype html
html(lang="en")
  head
    title EMI Calculator
    link(rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css")
    style.
      body {
        background-color: #f8f9fa;
      }
  body
    .container
      .row.justify-content-center
        .col-md-5
          h1.text-center.mb-4.mt-4 EMI Calculator
          hr
          br
          form#emi-form
            .form-group
              label(for="salary") Monthly Salary:
              input(type="number" class="form-control" id="salary" name="salary" required)

            .form-group
              label(for="loanAmount") Loan Amount:
              input(type="number" class="form-control" id="loanAmount" name="loanAmount" required)

            .form-group
              label(for="loanType") Loan Type:
              select(id="loanType" name="loanType" class="form-control" required)
                option(value="Home Loan") Home Loan
                option(value="Car Loan") Car Loan
                option(value="Education Loan") Education Loan

              div(style="display: flex; justify-content: center;").mt-4
                button(type="submit" class="btn btn-primary center" style="width: 50%") Calculate EMI

          #result.mt-3.text-center

    script.
      document.getElementById('emi-form').addEventListener('submit', async (e) => {
        e.preventDefault();

        const salary = document.getElementById('salary').value;
        const loanAmount = document.getElementById('loanAmount').value;
        const loanType = document.getElementById('loanType').value;

        const response = await fetch('/calculate', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({ salary, loanAmount, loanType })
        });

        const data = await response.json();
        document.getElementById('result').innerText = data.message;
      });
















//- doctype html
//- html(lang="en")
//-   head
//-     title EMI Calculator
//-     link(rel="stylesheet" href="styles.css")
//-   body
//-     .container
//-       h1 EMI Calculator
//-       form#emi-form
//-         label(for="salary") Monthly Salary:
//-         input(type="number" id="salary" name="salary" required)

//-         label(for="loanAmount") Loan Amount:
//-         input(type="number" id="loanAmount" name="loanAmount" required)

//-         label(for="loanType") Loan Type:
//-         select(id="loanType" name="loanType" required)
//-           option(value="Home Loan") Home Loan
//-           option(value="Car Loan") Car Loan
//-           option(value="Education Loan") Education Loan

//-         button(type="submit") Calculate EMI

//-       #result

//-     //- Embed the script directly in the Pug template
//-     script.
//-       document.getElementById('emi-form').addEventListener('submit', async (e) => {
//-         e.preventDefault();

//-         const salary = document.getElementById('salary').value;
//-         const loanAmount = document.getElementById('loanAmount').value;
//-         const loanType = document.getElementById('loanType').value;

//-         const response = await fetch('/calculate', {
//-           method: 'POST',
//-           headers: {
//-             'Content-Type': 'application/json'
//-           },
//-           body: JSON.stringify({ salary, loanAmount, loanType })
//-         });

//-         const data = await response.json();
//-         document.getElementById('result').innerText = data.message;
//-       });


